% Author: Thomas Barratt
% Version: 1.0
% This work is licensed under a Creative Commons Attribution 4.0 International License.

\documentclass[11pt, a4paper, titlepage]{article}
% \input{Packages.tex}
\usepackage{geometry}
\usepackage{csquotes}
\usepackage{mathtools}
\usepackage{multicol}
\usepackage{hyperref}
\usepackage{apacite}
\usepackage[title, titletoc]{appendix}
\usepackage[parfill]{parskip}

\geometry{lmargin=37mm, rmargin=25mm} 
 
% \hypersetup{pdftitle = Applications of Cellular Automata: Wildfire Spread simulation, pdfauthor = {Thomas Barratt, Jacob Dalrymple}, pdfstartview=FitH, pdfkeywords = essay, pdfpagemode=FullScreen, colorlinks, anchorcolor = red, citecolor = blue, urlcolor=blue, filecolor=green, linkcolor=red, plainpages=false}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \pagestyle{fancy}

% Top and Bottom Line Rules
% \renewcommand{\headrulewidth}{0.4pt} %0.4pt
% \renewcommand{\footrulewidth}{0.4pt}
% \fancyheadoffset{9pt}
% \fancyfootoffset{9pt}
% Line spacing
\renewcommand{\baselinestretch}{1.1} %1.5
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\date{}

\title{ \textbf{Applications of Cellular Automata: Wildfire Spread simulation} \\  }

\author{\\ \Large{Thomas Barratt, Jacob Dalrymple  } }
\date{\today}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \pagenumbering{roman}
\begin{document}
\maketitle

\newpage

\section{Abstract}

\section{Introduction}

\begin{displayquote}
  A brief summary of what you did and what you found.
\end{displayquote}

\section{Introduction and Background: Literature Review}
% \begin{displayquote}
%   Your brief restatement of the problem
%   that you have been asked to solve. Carry out a search of the literature to identify at least two
%   examples of journal papers that describe CA-based models relevant to this system. What features
%   did they model? What did they predict?
% \end{displayquote}
As the issue of simulating the spread of the wildfire is to be implemented through cellular automata, consulting existing research into this field can give us a valuable insight into how is best to proceed. Considering what properties are being modelled and the ways in which transitions between state are decided can give us a grounding in this specific problem area.


Considering the evidence existing papers have used to justify their results can provide a good metric for the accuracy of our results. Because this project seeks to show the effect of wildfires in relation to a municipality and surrounding area,the real world implications are obvious, and should be considered throughout our research into this domain.


There are two notable papers in this field whose outcomes seem to overlap strongly with our intentions. Both of these papers consider simulating real world forest fires using cellular automata. Using the deeper understanding of the problem space that the authors of these papers have will allow us to consider global properties which we may have been unaware.

  \subsection[Paper 1: A CA model for forest fire spread prediction]{ Paper 1: A CA model for forest fire spread prediction \cite{ALEXANDRIDIS2008191}}
  
    \subsubsection{Background}
 
    This paper seeks to provide a comprehensive model for modelling wildfires using a cellular automata, designed to include the most impactful properties when considering the spread of wildfire. By comparing their results against that of the 1990 Spetses island wildfires, and iteratively changing constants in their transition functions, the authors simulated forest fire spread to a high degree of accuracy - their final results occupying $5.4km^2$, with the actual fire occupying $5.9km^2$.
  
    \subsubsection{Context}  
    The authors states several key criteria which affect the spread of wildfire across a terrain.
    \begin{itemize}

      \item Spread and shape of a forest fire front
      \item The fuel type (type of vegetation)
      \item Humidity
      \item Wind speed and direction
      \item Forest topography (slope and natural barriers), fuel continuity (vegetation thickness)
      \item Spotting which is a phenomenon where burning material is transferred by the wind or other reasons such as the fling of flaming pinecones to areas that are not adjacent to the fire front.
    \end{itemize}
    
    Each parameter is given a weighting and a probablistic model is used for each parameter to calculate the total chance of a cell being set on fire in the next time step ($t+1$).

    The chance of fire, $p_{burn}$, is given as:

    \[ p_{burn} = p_h(1+p_{veg})(1+p_{den})p_wp_s \]
    where: \\
    $p_h = $ constant probability that a cell adjacent to a burning cell containing a given type of vegetation and density will catch fire at the next time step under no wind and flat terrain \\
    $p_{den}, p_{veg}, p_w, p_s$ = the density of vegetation, the type of vegetation, the wind speed and the slope, respectively.



  \subsubsection{Implementation}
  
  The CA has four necessary states:
  
  $State = 1$: The cell contains no forest fuel. This state may describe the cells corresponding to parts of the city with no vegetation, rural areas with no vegetation etc. We assume that cells that are in this state cannot be burned.
  
  $State = 2$: The cell contains forest fuel that has not ignited.
  
  $State = 3$: The cell contains forest fuel that is burning.
  
  $State = 4$: The cell contained forest fuel that has been burned down.
  
  
  \subsubsection{Conclusion}
  The use of additional parameters such as humidity to predict the spread of the forest fire, along with their use of real world GIS values gives rise to a greater accuracy of results (in relation to the real world spread of forest fires) when compared to the default criteria to be implemented.

  To meet the criteria given, the insights regarding the weighting of different parameters and the use of a probabilistic model to calculate the chance of a cell burning offer a credible starting point.

  \subsection{Comparison between literature, insight and relevance to this implementation}
  The two papers discussed above implement the idea of 'fuel' in different ways. \cite{ALEXANDRIDIS2008191} structures fuel as a property of the states, whereas \textbf{Jacob's Paper} provides different states for different levels of fuel. 
  
  The advantage of moving the fuel state into an attribute of the cell is the greater precision of fuel that can be stored, while also maintaining a smaller amount of states. By limiting fuel state to discrete variables, the forest fire spread will lose valuable resolution which can be maintained with a different data structure.

\section{Methodology}
\begin{displayquote}
  - A short summary (IN YOUR OWN WORDS) of how the CA approach can
  be applied to model a forest fire. This should assume that the reader is a non-expert in modelling or
  Computer Science in general. You should explain in English (as opposed to simply using code), how
  you have extended the model you have been given in order to investigate the features mentioned.
  You can also use simple flow or state transition diagrams to support you description. You can also
  refer to relevant python code included in an appendix.
  It is expected that in extending/developing your model you will have to make some assumptions
  about how to implement particular behaviours, and also in terms of the parameters (values) you
  choose to use e.g. to represent different fuel resources/burning times. You are not expected to
  become experts in this area but you should at state justify any assumptions you make.
\end{displayquote} 

Cellular Automata is a term to describe the simulation of a discrete number of cells and interactions across a cell space (grid). Each cell can have one state at any one time step. Cells can change state. The permitted changes from any one state to another state is determined by a transition function. The transition function can consider global properties, such as the current time step, as well as local properties, such as the cell's current state, as well as its neighbourhood - a set of cells near the cell. 

By representing small sections of the terrain as cells, cellular automata can be used to simulate the spread of the fire across the grid. By constructing the states of the CA to the functional states of the areas of terrain, transition functions which take additional parameters along with the cells can be used to map the flow of fire.

After consulting existing literature, the following functional states were devised:

\begin{enumerate}
  \setcounter{enumi}{-1}
  \item Burnt out
  \item Burnable
  \item On fire
  \item Not burnable
\end{enumerate}


\begin{figure}[h]
  \centering
    \begin{tabular}{ || l | l ||}
      \hline
      \textbf{State}            &  \textbf{Valid transition states}  \\ 
      \hline
      Burnt Out        &  Burnt out           \\       
      Burnable         &  Burnable, On fire   \\
      On fire          &  On fire, Burnt out  \\   
      Not burnable     &  Not burnable        \\
      \hline
 
    \end{tabular}
  \caption{Valid state transitions for each of the states in the CA.}
  \label{Valid state transitions}
\end{figure}


The transitions between states are calculated with a set of parameters for each cell, which are stored in an $5$-parameter list for each cell in a grid equal in width and height to the cell grid. 

\begin{enumerate}
  \setcounter{enumi}{-1}
  \item Height - Scalar value
  \item Wind/Magnitude - East to West
  \item Flammability
  \item Humidity
  \item Fuel
\end{enumerate}



Given the parameters, a probability is derived: the chance of the current cell setting on fire in the next time step.



\begin{itemize}
  \item Change in height
\end{itemize}
If a cell is on fire in the cell's neighbourhood, the chance of catching fire is calculated by the sum of the weighted sums of the differences in height, the difference in wind magnitude, and the flammability of the cell that is on fire. The probability is then summed for every on fire cell in the neighbourhood.

\[ F = \sum_{ [H, W, F] \in neighbourhood  } w_1 \Delta H + w_2 \Delta W + w_3 F  \]

\section{Results}
\begin{displayquote}
  In this section you should describe what simulations you
carried out under which conditions (e.g. parameter sets mentioned above, wind direction,…) and
how long the simulation was run for. You should use fully labelled diagrams (e.g. screenshots or
where appropriate, line graphs) to display your results and you should also describe your results in
text. Additional results can be included in an appendix
\end{displayquote}

\newpage
\section{Discussion of model and conclusions} 
\section{Conclusion}

\newpage
\renewcommand{\bibname}{Bibliography}
\bibliographystyle{apacite}
\bibliography{Bibliography.bib}


\end{document}